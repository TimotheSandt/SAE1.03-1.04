{% extends "layout.html" %}

{% block title %}Liste des Locations{% endblock %}

{% block style %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/location_list.css') }}">
{% endblock %}

{% block body %}
<div class="list-container">
    <h1>Liste des Locations</h1>
    
    <div class="action-buttons">
        <a href="/location/add" class="btn btn-primary">Ajouter une location</a>
        <a href="/location/etat/" class="btn btn-secondary">État des locataires</a>
    </div>

    {% if locations | length >= 1 %}
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Prix</th>
                    <th>Date début</th>
                    <th>Date fin</th>
                    <th>Vélo</th>
                    <th>Locataire</th>
                    <th>Bailleur</th>   
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for ligne in locations %}
                <tr>
                    <td>{{ ligne.id }}</td>
                    <td>{{ ligne.prix }} €</td>
                    <td>{{ ligne.date_debut }}</td>
                    <td>{{ ligne.date_fin }}</td>
                    <td>{{ ligne.velo }}</td>
                    <td>{{ ligne.locataire }}</td>
                    <td>{{ ligne.bailleur }}</td>
                    <td>
                        <a href="/location/edit?id={{ ligne.id }}" class="btn btn-sm btn-edit">Éditer</a>
                        <a href="/location/delete?id={{ ligne.id }}" class="btn btn-sm btn-delete">Supprimer</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="no-data">Aucune location effectuée</p>
    {% endif %}
</div>
{% endblock %}

